<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chok Hmong - Party Question Card Game</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Fredoka:wght@300;400;500;600;700&family=Comic+Neue:wght@300;400;700&display=swap');
        
        :root {
            --beige-light: #F5F5DC;
            --beige-medium: #DEB887;
            --beige-dark: #CD853F;
            --red-primary: #DC2626;
            --red-light: #F87171;
            --red-dark: #991B1B;
            --white: #FFFFFF;
            --black: #000000;
        }
        
        body {
            font-family: 'Fredoka', 'Comic Neue', cursive, sans-serif;
            background: linear-gradient(135deg, #E6D3B7 0%, #F0E6D2 50%, #D2B48C 100%);
            background-attachment: fixed;
            overflow-x: hidden;
        }
        
        .modern-button {
            border-radius: 50px;
            transition: all 0.3s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            box-shadow: 0 8px 20px 0 rgba(0, 0, 0, 0.15);
            backdrop-filter: blur(15px);
            border: 3px solid rgba(255, 255, 255, 0.3);
            font-weight: 600;
            letter-spacing: 0.025em;
            position: relative;
            overflow: hidden;
        }
        
        .modern-button::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.4), transparent);
            transition: left 0.5s;
        }
        
        .modern-button:hover::before {
            left: 100%;
        }
        
        .modern-button:hover {
            transform: translateY(-4px) scale(1.05);
            box-shadow: 0 12px 30px 0 rgba(0, 0, 0, 0.2);
        }
        
        .modern-button:active {
            transform: translateY(-2px) scale(1.02);
        }
        
        
        .glass-card {
            background: rgba(250, 248, 243, 0.4);
            backdrop-filter: blur(20px);
            border: 3px solid rgba(237, 231, 220, 0.5);
            box-shadow: 0 15px 35px 0 rgba(0, 0, 0, 0.05);
            border-radius: 30px;
            position: relative;
            overflow: hidden;
        }
        
        .glass-card::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255, 255, 255, 0.1) 0%, transparent 70%);
            animation: float 6s ease-in-out infinite;
        }
        
        @keyframes float {
            0%, 100% { transform: translateY(0px) rotate(0deg); }
            50% { transform: translateY(-10px) rotate(180deg); }
        }
        
        /* Bubble decorations */
        .bubble {
            position: absolute;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.2);
            animation: bubble-float 8s infinite ease-in-out;
        }
        
        .bubble:nth-child(1) { width: 60px; height: 60px; top: 10%; left: 10%; animation-delay: 0s; }
        .bubble:nth-child(2) { width: 40px; height: 40px; top: 20%; right: 15%; animation-delay: 2s; }
        .bubble:nth-child(3) { width: 80px; height: 80px; bottom: 20%; left: 20%; animation-delay: 4s; }
        .bubble:nth-child(4) { width: 50px; height: 50px; bottom: 30%; right: 25%; animation-delay: 6s; }
        
        @keyframes bubble-float {
            0%, 100% { transform: translateY(0px) scale(1); }
            50% { transform: translateY(-20px) scale(1.1); }
        }
        
        /* Cute character styles */
        .bubble-character {
            position: absolute;
            font-size: 2rem;
            animation: bounce 2s infinite;
        }
        
        @keyframes bounce {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
        }
        
        .bubble-button {
            border-radius: 50px;
            transition: all 0.3s ease;
            box-shadow: 0 8px 20px rgba(244, 55, 92, 0.3);
        }
        .bubble-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 12px 30px rgba(244, 55, 92, 0.4);
        }
        
        .logo {
            position: relative;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        
        .logo-image {
            max-width: 450px;
            width: 100%;
            height: auto;
            transition: all 0.4s ease;
            background: transparent;
        }
        
        .logo-image:hover {
            transform: scale(1.08);
        }
        
        .logo-container {
            background: transparent;
            border-radius: 30px;
            padding: 2rem;
        }
        
        .floating {
            animation: float 6s ease-in-out infinite;
        }
        .card {
            perspective: 1000px;
            width: 180px;
            height: 250px;
        }
        .card-inner {
            position: relative;
            width: 100%;
            height: 100%;
            text-align: center;
            transition: transform 0.8s;
            transform-style: preserve-3d;
            border-radius: 20px;
        }
        .card.flipped .card-inner {
            transform: rotateY(180deg);
        }
        .card-front, .card-back {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
            border-radius: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            cursor: pointer;
        }
        .card-back {
            transform: rotateY(180deg);
        }
        .floating {
            animation: float 6s ease-in-out infinite;
        }
        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-20px); }
        }
        .bounce {
            animation: bounce 2s infinite;
        }
        @keyframes bounce {
            0%, 20%, 50%, 80%, 100% { transform: translateY(0); }
            40% { transform: translateY(-30px); }
            60% { transform: translateY(-15px); }
        }
        
        /* Single Player Game Styling */
        #gamePage {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(20px);
            border-radius: 25px;
            padding: 2rem;
            margin: 2rem auto;
            max-width: 800px;
            border: 2px solid rgba(255, 255, 255, 0.2);
        }
        
        .game-header {
            text-align: center;
            margin-bottom: 2rem;
        }
        
        .game-header h1 {
            color: #333;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.1);
            margin-bottom: 1rem;
        }
        
        .game-header p {
            color: #333;
            font-size: 1.1rem;
            margin-bottom: 1rem;
        }
        
        .game-info {
            display: flex;
            justify-content: center;
            gap: 1rem;
            flex-wrap: wrap;
            margin-bottom: 2rem;
        }
        
        .info-badge {
            background: rgba(255, 255, 255, 0.9);
            padding: 0.5rem 1rem;
            border-radius: 25px;
            color: #333;
            font-weight: bold;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        }
        
        .cards-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1.5rem;
            max-width: 600px;
            margin: 0 auto 2rem;
        }
        
        .card {
            perspective: 1000px;
            width: 100%;
            height: 250px;
            cursor: pointer;
            transition: transform 0.3s ease;
        }
        
        .card:hover {
            transform: scale(1.05);
        }
        
        .card-inner {
            position: relative;
            width: 100%;
            height: 100%;
            text-align: center;
            transition: transform 0.6s;
            transform-style: preserve-3d;
        }
        
        .card.flipped .card-inner {
            transform: rotateY(180deg);
        }
        
        .card-front, .card-back {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
            border-radius: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            cursor: pointer;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.2);
        }
        
        .card-back {
            transform: rotateY(180deg);
            background: linear-gradient(135deg, #F5F5DC, #DEB887);
            border: 3px solid #DC2626;
        }
        
        .card-front {
            background: linear-gradient(135deg, #DC2626, #991B1B);
            color: white;
        }
        
        .card-front .text-4xl {
            font-size: 3rem;
            margin-bottom: 0.5rem;
        }
        
        .card-back p {
            color: #000;
            font-size: 0.9rem;
            line-height: 1.4;
            padding: 1rem;
        }
        
        .game-actions {
            text-align: center;
            margin-top: 2rem;
        }
        
        .btn-game {
            background: linear-gradient(135deg, #DC2626, #991B1B);
            color: white;
            padding: 1rem 2rem;
            border: none;
            border-radius: 25px;
            font-weight: bold;
            font-size: 1.1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(220, 38, 38, 0.4);
            margin: 0.5rem;
        }
        
        .btn-game:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(220, 38, 38, 0.6);
        }
        
        .btn-secondary {
            background: linear-gradient(135deg, #D97706, #92400E);
        }
        
        .btn-secondary:hover {
            box-shadow: 0 6px 20px rgba(217, 119, 6, 0.6);
        }
    </style>
</head>
<body class="min-h-screen">
    <!-- Home Page -->
    <div id="homePage" class="container mx-auto px-4 py-8 relative">
        <!-- Bubble decorations -->
        <div class="bubble"></div>
        <div class="bubble"></div>
        <div class="bubble"></div>
        <div class="bubble"></div>
        
        <!-- Cute bubble characters -->
        <div class="bubble-character" style="top: 15%; left: 5%;">🎮</div>
        <div class="bubble-character" style="top: 25%; right: 8%;">🎯</div>
        <div class="bubble-character" style="bottom: 20%; left: 8%;">🎲</div>
        <div class="bubble-character" style="bottom: 30%; right: 12%;">🎪</div>
        
        <!-- Header -->
        <header class="text-center mb-16">
            <div class="floating">
                <div class="logo-container inline-block mb-8">
                    <div class="logo">
                        <img src="jokHmorng-logo.png" alt="Chok Hmong Logo" class="logo-image">
                    </div>
                    <p class="text-lg text-white font-medium mt-4">Party Question Card Game</p>
                </div>
                
            </div>
                   <p class="text-xl text-black max-w-3xl mx-auto leading-relaxed font-medium">
                Get ready for deep questions that will "chok" you! Challenge yourself with thought-provoking cards that spark conversation and fun moments.
            </p>
        </header>

        <!-- Features -->
        <div class="grid md:grid-cols-3 gap-8 mb-16">
            <div class="glass-card p-8 rounded-3xl text-center group hover:scale-105 transition-all duration-300">
                <div class="text-5xl mb-6 group-hover:scale-110 transition-transform duration-300">🎴</div>
                <h3 class="text-2xl font-bold text-red-600 mb-3">Interactive Cards</h3>
                       <p class="text-black font-medium">Flip cards to reveal exciting questions and challenges</p>
            </div>
            <div class="glass-card p-8 rounded-3xl text-center group hover:scale-105 transition-all duration-300">
                <div class="text-5xl mb-6 group-hover:scale-110 transition-transform duration-300">🌍</div>
                <h3 class="text-2xl font-bold text-red-600 mb-3">Multi-Language</h3>
                <p class="text-black font-medium">Choose between Khmer and English questions</p>
            </div>
            <div class="glass-card p-8 rounded-3xl text-center group hover:scale-105 transition-all duration-300">
                <div class="text-5xl mb-6 group-hover:scale-110 transition-transform duration-300">🎭</div>
                <h3 class="text-2xl font-bold text-red-600 mb-3">Fun Categories</h3>
                <p class="text-black font-medium">Different types of questions for every mood</p>
            </div>
        </div>

        <!-- Game Modes -->
        <div class="text-center mb-16">
            <h2 class="text-4xl font-bold text-black mb-12">Choose Your Adventure</h2>
            <div class="grid md:grid-cols-2 gap-8 max-w-4xl mx-auto">
                <button onclick="window.location.href='single-player-rules.html'" class="modern-button bg-gradient-to-r from-red-500 to-red-700 text-white px-10 py-8 text-2xl font-bold group">
                    <div class="flex items-center justify-center gap-4">
                        <span class="text-4xl">🫧</span>
                        <div class="text-left">
                            <div class="text-3xl font-bold">Single Player</div>
                            <div class="text-lg opacity-90">Play solo</div>
                        </div>
                    </div>
                </button>
                
                <button onclick="window.location.href='multiplayer-rules.html'" class="modern-button bg-gradient-to-r from-amber-600 to-amber-800 text-white px-10 py-8 text-2xl font-bold group">
                    <div class="flex items-center justify-center gap-4">
                        <span class="text-4xl">🫧</span>
                        <div class="text-left">
                            <div class="text-3xl font-bold">Multiplayer</div>
                            <div class="text-lg opacity-90">Play with friends</div>
                        </div>
                    </div>
                </button>
                
            </div>
        </div>

        <!-- Language Selection -->
        <div class="text-center">
            <h3 class="text-2xl font-bold text-pink mb-6">Select Language | ជ្រើសរើសភាសា</h3>
            <div class="flex justify-center gap-4">
                <button onclick="setLanguage('english')" class="bubble-button bg-red-600 text-white px-6 py-3 font-bold">
                    🇺🇸 English
                </button>
                <button onclick="setLanguage('khmer')" class="bubble-button bg-amber-600 text-white px-6 py-3 font-bold">
                    🇰🇭 ខ្មែរ
                </button>
            </div>
        </div>
    </div>

    <!-- Category Selection Page -->
    <div id="categoryPage" class="hidden container mx-auto px-4 py-8">
        <div class="text-center mb-8">
            <button onclick="goHome()" class="bubble-button bg-gray-500 text-white px-4 py-2 mb-4">
                ← Back Home
            </button>
            <h1 class="text-4xl font-bold text-pink mb-4">Choose Your Category</h1>
            <p class="text-lg text-gray-600">Select a category that matches your mood!</p>
        </div>

        <!-- Category Cards -->
        <div class="grid md:grid-cols-2 gap-6 max-w-4xl mx-auto mb-8">
            <div onclick="selectCategory('normal')" class="cursor-pointer bg-gradient-to-br from-blue-400 to-blue-600 text-white p-6 rounded-3xl shadow-lg hover:shadow-xl transition-all hover:scale-105">
                <div class="text-center">
                    <div class="text-6xl mb-4">🤔</div>
                    <h3 class="text-2xl font-bold mb-2">Normal</h3>
                    <p class="text-blue-100">Thoughtful questions for everyday conversations and self-reflection</p>
                </div>
            </div>

            <div onclick="selectCategory('couple')" class="cursor-pointer bg-gradient-to-br from-pink-400 to-red-500 text-white p-6 rounded-3xl shadow-lg hover:shadow-xl transition-all hover:scale-105">
                <div class="text-center">
                    <div class="text-6xl mb-4">💕</div>
                    <h3 class="text-2xl font-bold mb-2">Couple</h3>
                    <p class="text-pink-100">Romantic and intimate questions perfect for couples and date nights</p>
                </div>
            </div>

            <div onclick="selectCategory('mystery')" class="cursor-pointer bg-gradient-to-br from-purple-500 to-indigo-600 text-white p-6 rounded-3xl shadow-lg hover:shadow-xl transition-all hover:scale-105">
                <div class="text-center">
                    <div class="text-6xl mb-4">🔮</div>
                    <h3 class="text-2xl font-bold mb-2">Mystery</h3>
                    <p class="text-purple-100">Deep, mysterious questions that explore the unknown and supernatural</p>
                </div>
            </div>

            <div onclick="selectCategory('dare')" class="cursor-pointer bg-gradient-to-br from-orange-400 to-red-600 text-white p-6 rounded-3xl shadow-lg hover:shadow-xl transition-all hover:scale-105">
                <div class="text-center">
                    <div class="text-6xl mb-4">🔥</div>
                    <h3 class="text-2xl font-bold mb-2">Dare</h3>
                    <p class="text-orange-100">Bold challenges and daring questions for the adventurous souls</p>
                </div>
            </div>
        </div>

        <!-- Language Selection -->
        <div class="text-center">
            <h3 class="text-2xl font-bold text-pink mb-6">Select Language | ជ្រើសរើសភាសា</h3>
            <div class="flex justify-center gap-4">
                <button onclick="setLanguage('english')" class="bubble-button bg-red-600 text-white px-6 py-3 font-bold">
                    🇺🇸 English
                </button>
                <button onclick="setLanguage('khmer')" class="bubble-button bg-amber-600 text-white px-6 py-3 font-bold">
                    🇰🇭 ខ្មែរ
                </button>
            </div>
        </div>
    </div>

    <!-- Game Page -->
    <div id="gamePage" class="hidden">
        <!-- Game Header -->
        <div class="game-header">
            <button onclick="goBackToCategory()" class="btn-game btn-secondary">
                ← Back to Categories
            </button>
            <h1>🎯 Chok Hmong 🎯</h1>
            <p>Choose a card to reveal your question!</p>
            <div class="game-info">
                <span class="info-badge">
                    Category: <span id="currentCategory">Normal</span>
                </span>
                <span class="info-badge">
                    Language: <span id="currentLanguage">English</span>
                </span>
            </div>
        </div>

        <!-- Cards Container -->
        <div class="cards-container">
            <div class="card" onclick="flipCard(0)">
                <div class="card-inner">
                    <div class="card-front">
                        <div class="text-center">
                            <div class="text-4xl mb-2">🎴</div>
                            <p class="text-lg font-bold">Card 1</p>
                        </div>
                    </div>
                    <div class="card-back">
                        <div class="p-4 text-center">
                            <p id="question0" class="text-sm font-bold"></p>
                        </div>
                    </div>
                </div>
            </div>

            <div class="card" onclick="flipCard(1)">
                <div class="card-inner">
                    <div class="card-front">
                        <div class="text-center">
                            <div class="text-4xl mb-2">🎴</div>
                            <p class="text-lg font-bold">Card 2</p>
                        </div>
                    </div>
                    <div class="card-back">
                        <div class="p-4 text-center">
                            <p id="question1" class="text-sm font-bold"></p>
                        </div>
                    </div>
                </div>
            </div>

            <div class="card" onclick="flipCard(2)">
                <div class="card-inner">
                    <div class="card-front">
                        <div class="text-center">
                            <div class="text-4xl mb-2">🎴</div>
                            <p class="text-lg font-bold">Card 3</p>
                        </div>
                    </div>
                    <div class="card-back">
                        <div class="p-4 text-center">
                            <p id="question2" class="text-sm font-bold"></p>
                        </div>
                    </div>
                </div>
            </div>

            <div class="card" onclick="flipCard(3)">
                <div class="card-inner">
                    <div class="card-front">
                        <div class="text-center">
                            <div class="text-4xl mb-2">🎴</div>
                            <p class="text-lg font-bold">Card 4</p>
                        </div>
                    </div>
                    <div class="card-back">
                        <div class="p-4 text-center">
                            <p id="question3" class="text-sm font-bold"></p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Game Actions -->
        <div class="game-actions">
            <button id="nextButton" onclick="nextRound()" class="btn-game">
                🔄 Next Set of Cards
            </button>
        </div>

        <!-- Instructions -->
        <div class="glass-card p-6 mt-8 max-w-2xl mx-auto">
            <h3 class="text-xl font-bold text-black mb-4 text-center">🎯 How to Play</h3>
            <ul class="space-y-2 text-black">
                <li>• Click on any card to flip it and reveal a question</li>
                <li>• Answer the question or complete the challenge</li>
                <li>• Once flipped, cards stay revealed for this round</li>
                <li>• Click "Next Set of Cards" to get 4 new cards</li>
                <li>• Have fun and get ready to be "chok'd" by deep questions!</li>
            </ul>
        </div>
    </div>

    <script>
        let currentLanguage = 'english';
        let currentCategory = 'normal';
        let flippedCards = [false, false, false, false];
        let currentQuestions = [];

        // Question database organized by categories
        const questions = {
            normal: {
                english: [
                    "What's the most embarrassing thing that happened to you in public?",
                    "If you could have dinner with anyone, dead or alive, who would it be?",
                    "What's your biggest fear that most people don't know about?",
                    "If you could change one thing about yourself, what would it be?",
                    "What's the weirdest dream you've ever had?",
                    "What's your most unpopular opinion?",
                    "If you had to live in a different country, where would you go?",
                    "What's your biggest regret in life so far?",
                    "What's the strangest compliment you've ever received?",
                    "What's the most childish thing you still do?",
                    "What's your weirdest habit that you think no one knows about?",
                    "If you could eliminate one thing from daily life, what would it be?",
                    "What's the most spontaneous thing you've ever done?",
                    "What's your most irrational fear?",
                    "What's the best advice you've ever received?",
                    "If you could master any skill instantly, what would it be?",
                    "What's something you believed as a child that was completely wrong?",
                    "What's the most beautiful place you've ever seen?",
                    "What's your favorite way to waste time?",
                    "If you could live in any time period, when would it be?"
                ],
                khmer: [
                    "តើអ្វីជារឿងអាម៉ាសបំផុតដែលកើតឡើងចំពោះអ្នកនៅកន្លែងសាធារណៈ?",
                    "បើអ្នកអាចញ៉ាំបាយជាមួយនរណាម្នាក់ តើអ្នកនឹងជ្រើសរើសនរណា?",
                    "តើការភ័យខ្លាចធំបំផុតរបស់អ្នកដែលមនុស្សភាគច្រើនមិនដឹងគឺអ្វី?",
                    "បើអ្នកអាចផ្លាស់ប្តូរមួយរឿងអំពីខ្លួនអ្នក តើនឹងជាអ្វី?",
                    "តើសុបិនចំលែកបំផុតដែលអ្នកធ្លាប់មានគឺយ៉ាងណា?",
                    "តើមតិរបស់អ្នកដែលមនុស្សភាគច្រើនមិនយល់ស្របគឺអ្វី?",
                    "បើអ្នកត្រូវរស់នៅក្នុងប្រទេសផ្សេង តើអ្នកនឹងជ្រើសរើសទៅណា?",
                    "តើការសោកស្តាយធំបំផុតក្នុងជីវិតរបស់អ្នកបច្ចុប្បន្នគឺអ្វី?",
                    "តើការសរសើរចម្លែកបំផុតដែលអ្នកធ្លាប់ទទួលគឺអ្វី?",
                    "តើរឿងកុមារដែលអ្នកនៅតែធ្វើគឺអ្វី?",
                    "តើទម្លាប់ចម្លែករបស់អ្នកដែលគិតថាគ្មាននរណាដឹងគឺអ្វី?",
                    "បើអ្នកអាចលុបចោលរឿងមួយពីជីវិតប្រចាំថ្ងៃ តើនឹងជាអ្វី?",
                    "តើរឿងដោយមិនគិតទុកជាមុនបំផុតដែលអ្នកធ្លាប់ធ្វើគឺអ្វី?",
                    "តើការភ័យខ្លាចដែលគ្មានហេតុផលរបស់អ្នកគឺអ្វី?",
                    "តើដំបូន្មានល្អបំផុតដែលអ្នកធ្លាប់ទទួលគឺអ្វី?",
                    "បើអ្នកអាចជំនាញអ្វីមួយបានភ្លាមៗ តើនឹងជាអ្វី?",
                    "តើអ្វីដែលអ្នកជឿពេលកុមារតែខុសទាំងស្រុងគឺអ្វី?",
                    "តើកន្លែងស្រស់ស្អាតបំផុតដែលអ្នកធ្លាប់ឃើញគឺណា?",
                    "តើវិធីចំណូលចិត្តរបស់អ្នកក្នុងការចំណាយពេលវេលាគឺអ្វី?",
                    "បើអ្នកអាចរស់នៅសម័យកាលណាមួយ តើនឹងជានៅពេលណា?"
                ]
            },
            couple: {
                english: [
                    "What was your first impression of me?",
                    "What's your favorite memory of us together?",
                    "What's something I do that always makes you smile?",
                    "If we could travel anywhere together, where would you want to go?",
                    "What's your idea of a perfect date night?",
                    "What's something you've always wanted to tell me but haven't?",
                    "What's your favorite thing about our relationship?",
                    "If we could relive one day together, which day would you choose?",
                    "What's something new you'd like us to try together?",
                    "What's your love language and how do you like to receive it?",
                    "What's a dream you have for our future together?",
                    "What's something I do that makes you feel most loved?",
                    "If you could give our relationship a theme song, what would it be?",
                    "What's your favorite way for us to spend a lazy Sunday?",
                    "What's something you admire most about me?",
                    "If we were characters in a movie, what genre would it be?",
                    "What's a tradition you'd like us to start together?",
                    "What's your favorite physical feature of mine?",
                    "What's something funny or embarrassing from our early dates?",
                    "If you could plan the perfect surprise for me, what would it be?"
                ],
                khmer: [
                    "តើចំណាប់អារម្មណ៍ដំបូងរបស់អ្នកចំពោះខ្ញុំគឺយ៉ាងណា?",
                    "តើអ្វីជាការចងចាំដ៏ពេញចិត្តបំផុតរបស់យើងគ្នា?",
                    "តើអ្វីដែលខ្ញុំធ្វើហើយតែងតែធ្វើឱ្យអ្នកញញឹម?",
                    "បើយើងអាចធ្វើដំណើរទៅណាមួយជាមួយគ្នា តើអ្នកចង់ទៅណា?",
                    "តើគំនិតរបស់អ្នកអំពីយប់ណាត់ជួបដ៏ល្អឥតខ្ចោះគឺយ៉ាងណា?",
                    "តើមានអ្វីដែលអ្នកចង់ប្រាប់ខ្ញុំតែមិនទាន់បាននិយាយ?",
                    "តើអ្វីជាចំណុចដែលអ្នកចូលចិត្តបំផុតអំពីទំនាក់ទំនងរបស់យើង?",
                    "បើយើងអាចរស់មួយថ្ងៃជាមួយគ្នាម្តងទៀត តើអ្នកនឹងជ្រើសថ្ងៃណា?",
                    "តើអ្វីថ្មីដែលអ្នកចង់ឱ្យយើងសាកល្បងជាមួយគ្នា?",
                    "តើភាសាស្នេហារបស់អ្នកគឺអ្វី ហើយអ្នកចូលចិត្តទទួលយ៉ាងណា?",
                    "តើអ្នកមានសុបិនអ្វីសម្រាប់អនាគតរបស់យើងគ្នា?",
                    "តើអ្វីដែលខ្ញុំធ្វើហើយធ្វើឱ្យអ្នកមានអារម្មណ៍ថាត្រូវបានស្រលាញ់បំផុត?",
                    "បើអ្នកអាចផ្តល់បទចម្រៀងមួយឱ្យទំនាក់ទំនងយើង តើនឹងជាបទអ្វី?",
                    "តើវិធីដែលអ្នកចូលចិត្តបំផុតសម្រាប់ការចំណាយថ្ងៃអាទិត្យយ៉ាងស្ងប់ស្ងាត់គឺអ្វី?",
                    "តើអ្វីដែលអ្នកកោតសរសើរបំផុតអំពីខ្ញុំ?",
                    "បើយើងជាតួអង្គនៅក្នុងភាពយន្ត តើនឹងជាប្រភេទអ្វី?",
                    "តើប្រពៃណីអ្វីដែលអ្នកចង់ឱ្យយើងចាប់ផ្តើមជាមួយគ្នា?",
                    "តើលក្ខណៈរូបរាងអ្វីរបស់ខ្ញុំដែលអ្នកចូលចិត្តបំផុត?",
                    "តើមានរឿងអស្ចារ្យឬអាម៉ាសអ្វីពីការណាត់ជួបដំបូងរបស់យើង?",
                    "បើអ្នកអាចរៀបចំការភ្ញាក់ផ្អើលដ៏ល្អឥតខ្ចោះសម្រាប់ខ្ញុំ តើនឹងជាអ្វី?"
                ]
            },
            mystery: {
                english: [
                    "Do you believe in ghosts? What's your scariest supernatural experience?",
                    "If you could solve one unsolved mystery, which would it be?",
                    "What's the strangest coincidence that has ever happened to you?",
                    "Do you think aliens exist? Have you ever seen a UFO?",
                    "What's the most mysterious dream you've ever had?",
                    "If you could read one person's mind for 24 hours, who would it be?",
                    "What conspiracy theory do you secretly believe might be true?",
                    "Have you ever experienced déjà vu? Describe the strongest one.",
                    "What's the weirdest thing that has happened to you that you can't explain?",
                    "If you could time travel, what mystery from the past would you solve?",
                    "Do you believe in destiny or do we control our own fate?",
                    "What's the most paranormal experience you've had or heard about?",
                    "If you found a mysterious door that could lead anywhere, where would you go?",
                    "What do you think happens to us after we die?",
                    "Have you ever had a prophetic dream that came true?",
                    "What's the most unexplainable thing you've witnessed?",
                    "Do you think there are parallel universes? What's your other self doing?",
                    "What's a family secret or mystery that you've always wondered about?",
                    "If you could communicate with animals, what would you ask them?",
                    "What's the most mysterious place you've ever visited?"
                ],
                khmer: [
                    "តើអ្នកជឿលើខ្មោចទេ? បទពិសោធន៍អរូបីដ៏គួរឱ្យភ័យខ្លាចបំផុតរបស់អ្នកគឺអ្វី?",
                    "បើអ្នកអាចដោះស្រាយអាថ៌កំបាំងមួយដែលមិនទាន់ដោះស្រាយ តើនឹងជាអ្វី?",
                    "តើការចៃដន្យចម្លែកបំផុតដែលកើតឡើងចំពោះអ្នកគឺអ្វី?",
                    "តើអ្នកគិតថាមានជីវិតក្រៅភពទេ? តើអ្នកធ្លាប់ឃើញ UFO ទេ?",
                    "តើសុបិនអាថ៌កំបាំងបំផុតដែលអ្នកធ្លាប់មានគឺអ្វី?",
                    "បើអ្នកអាចអានគំនិតនរណាម្នាក់រយៈពេល ២៤ ម៉ោង តើនឹងជានរណា?",
                    "តើទ្រឹស្តីឃុបឃិតអ្វីដែលអ្នកជឿជាសម្ងាត់ថាប្រហែលជាពិត?",
                    "តើអ្នកធ្លាប់មានបទពិសោធន៍ déjà vu ទេ? រៀបរាប់អំពីដ៏ខ្លាំងបំផុត។",
                    "តើរឿងចម្លែកបំផុតដែលកើតឡើងចំពោះអ្នកដែលមិនអាចពន្យល់បានគឺអ្វី?",
                    "បើអ្នកអាចធ្វើដំណើរឆ្លងកាលវេលា តើអ្នកនឹងដោះស្រាយអាថ៌កំបាំងអ្វីពីអតីតកាល?",
                    "តើអ្នកជឿលើជោគវាសនា ឬយើងគ្រប់គ្រងជោគវាសនាផ្ទាល់ខ្លួន?",
                    "តើបទពិសោធន៍អរូបីបំផុតដែលអ្នកមាន ឬធ្លាប់ស្តាប់គឺអ្វី?",
                    "បើអ្នកកើតមានទ្វារអាថ៌កំបាំងដែលអាចដឹកទៅណាក៏បាន តើអ្នកនឹងទៅណា?",
                    "តើអ្នកគិតថាមានអ្វីកើតឡើងចំពោះយើងបន្ទាប់ពីស្លាប់?",
                    "តើអ្នកធ្លាប់មានសុបិនទំនាយដែលក្លាយជាការពិតទេ?",
                    "តើអ្វីដែលមិនអាចពន្យល់បានបំផុតដែលអ្នកធ្លាប់ឃើញ?",
                    "តើអ្នកគិតថាមានចក្រវាឡប៉ារ៉ាឡែលទេ? តើខ្លួនអ្នកម្នាក់ទៀតកំពុងធ្វើអ្វី?",
                    "តើអាថ៌កំបាំងគ្រួសារអ្វីដែលអ្នកតែងចង់ដឹង?",
                    "បើអ្នកអាចទំនាក់ទំនងជាមួយសត្វ តើអ្នកនឹងសួរពួកវាអ្វី?",
                    "តើកន្លែងអាថ៌កំបាំងបំផុតដែលអ្នកធ្លាប់ទៅគឺណា?"
                ]
            },
            dare: {
                english: [
                    "Do something that scares you but you've always wanted to try!",
                    "Text your crush or someone you find attractive right now!",
                    "Post an embarrassing photo of yourself on social media!",
                    "Call a random number and sing 'Happy Birthday' to whoever answers!",
                    "Do your best impression of a celebrity for 2 minutes straight!",
                    "Eat something weird that's available right now!",
                    "Dance to your favorite song like nobody's watching!",
                    "Tell someone a secret you've never told anyone before!",
                    "Do 20 push-ups or jumping jacks right now!",
                    "Send a voice message to your ex (if you're comfortable)!",
                    "Take a cold shower or splash cold water on your face!",
                    "Record yourself singing your favorite song and play it back!",
                    "Text a friend a compliment out of nowhere!",
                    "Do a silly walk for the next 5 minutes!",
                    "Call your parents and tell them you love them!",
                    "Try to lick your own elbow for 30 seconds!",
                    "Do your best animal impression!",
                    "Write a poem about the last thing you ate!",
                    "Take a selfie making the weirdest face possible!",
                    "Do something nice for a stranger today!"
                ],
                khmer: [
                    "ធ្វើអ្វីមួយដែលធ្វើឱ្យអ្នកភ័យខ្លាចតែចង់សាកល្បងតាំងពីយូរមកហើយ!",
                    "ផ្ញើសារទៅអ្នកដែលអ្នកចូលចិត្ត ឬមានអារម្មណ៍ឥឡូវឥឡូវនេះ!",
                    "ដាក់រូបភាពអាម៉ាសរបស់អ្នកលើបណ្តាញសង្គម!",
                    "ហៅលេខទូរសព្ទចៃដន្យ ហើយច្រៀងបទ 'Happy Birthday' ទៅអ្នកដែលលើកស្រាប់!",
                    "ធ្វើការបែលិចតារាសំណព្វដ៏ល្អបំផុតរបស់អ្នករយៈពេល ២ នាទីពេញ!",
                    "ញ៉ាំអ្វីមួយចម្លែកៗដែលមាននៅពេលនេះ!",
                    "រាំតាមបទចម្រៀងដែលអ្នកចូលចិត្តដូចជាគ្មាននរណាមើល!",
                    "ប្រាប់អ្នកណាម្នាក់អំពីអាថ៌កំបាំងដែលមិនធ្លាប់ប្រាប់នរណាពីមុន!",
                    "ធ្វើហាត់ប្រាណរុញ ២០ ដង ឬលោតលើកជើងឥឡូវនេះ!",
                    "ផ្ញើសារសំឡេងទៅអតីតគូស្នេហ៍ (បើអ្នកមានអារម្មណ៍ស្រួល)!",
                    "ងូតទឹកត្រជាក់ ឬជះទឹកត្រជាក់លើមុខ!",
                    "ថតខ្លួនឯងកំពុងច្រៀងបទចំណូលចិត្ត ហើយចាក់ស្តាប់វិញ!",
                    "ផ្ញើសារសរសើរមិត្តភក្តិដោយមិនបាននឹកស្មានទុក!",
                    "ដើរប្លែកៗរយៈពេល ៥ នាទីបន្ទាប់!",
                    "ហៅឪពុកម្តាយ ហើយប្រាប់ពួកគេថាអ្នកស្រលាញ់ពួកគេ!",
                    "ព្យាយាមលិទប្រអប់ដៃផ្ទាល់ខ្លួនរយៈពេល ៣០ វិនាទី!",
                    "ធ្វើការបែលិចសត្វដ៏ល្អបំផុតរបស់អ្នក!",
                    "សរសេរកំណាព្យអំពីអ្វីចុងក្រោយដែលអ្នកញ៉ាំ!",
                    "ថតសែលហ្វីធ្វើមុខចម្លែកបំផុតដែលអាច!",
                    "ធ្វើអ្វីមួយល្អៗសម្រាប់មនុស្សចម្លែកនៅថ្ងៃនេះ!"
                ]
            }
        };

        function setLanguage(lang) {
            isKhmerMode = (lang === 'khmer');
            updateLanguageDisplay();
            translateInterface();
            
            // Regenerate questions with new language
            if (document.getElementById('gamePage') && !document.getElementById('gamePage').classList.contains('hidden')) {
                generateNewQuestions();
            }
        }

        function showCategorySelection() {
            document.getElementById('homePage').classList.add('hidden');
            document.getElementById('categoryPage').classList.remove('hidden');
        }

        function selectCategory(category) {
            currentCategory = category;
            const categoryElement = document.getElementById('currentCategory');
            if (categoryElement) {
                categoryElement.textContent = category.charAt(0).toUpperCase() + category.slice(1);
            }
            startSinglePlayer();
        }

        function startSinglePlayer() {
            document.getElementById('categoryPage').classList.add('hidden');
            document.getElementById('gamePage').classList.remove('hidden');
            
            // Update game theme based on category
            updateGameTheme();
            generateNewQuestions();
        }

        function updateGameTheme() {
            const body = document.body;
            
            switch(currentCategory) {
                case 'normal':
                    body.style.background = 'linear-gradient(135deg, #FBE8BA, #E3F2FD, #E8F5E8)';
                    break;
                case 'couple':
                    body.style.background = 'linear-gradient(135deg, #FCE4EC, #FFF0F5, #FFE0E6)';
                    break;
                case 'mystery':
                    body.style.background = 'linear-gradient(135deg, #E8EAF6, #F3E5F5, #E1F5FE)';
                    break;
                case 'dare':
                    body.style.background = 'linear-gradient(135deg, #FFF3E0, #FFEBEE, #FFF8E1)';
                    break;
                default:
                    body.style.background = 'linear-gradient(135deg, #FBE8BA, #FEF9C3, #FCE4EC)';
            }
        }

        function goHome() {
            document.getElementById('gamePage').classList.add('hidden');
            document.getElementById('categoryPage').classList.add('hidden');
            document.getElementById('homePage').classList.remove('hidden');
            
            // Reset theme
            document.body.style.background = 'linear-gradient(135deg, #FBE8BA, #FEF9C3, #FCE4EC)';
            resetGame();
        }

        function goBackToCategory() {
            document.getElementById('gamePage').classList.add('hidden');
            document.getElementById('categoryPage').classList.remove('hidden');
        }

        function generateNewQuestions() {
            // Use Khmer mode for language selection
            const selectedLanguage = isKhmerMode ? 'khmer' : 'english';
            
            if (!questions[currentCategory] || !questions[currentCategory][selectedLanguage]) {
                console.error('Questions not found for category:', currentCategory, 'language:', selectedLanguage);
                return;
            }
            
            const availableQuestions = questions[currentCategory][selectedLanguage];
            currentQuestions = [];
            
            // Get 4 random questions
            const usedIndexes = [];
            while (currentQuestions.length < 4) {
                const randomIndex = Math.floor(Math.random() * availableQuestions.length);
                if (!usedIndexes.includes(randomIndex)) {
                    usedIndexes.push(randomIndex);
                    currentQuestions.push(availableQuestions[randomIndex]);
                }
            }

            // Set questions to cards
            for (let i = 0; i < 4; i++) {
                const questionElement = document.getElementById(`question${i}`);
                if (questionElement) {
                    questionElement.textContent = currentQuestions[i];
                    
                    // Apply Khmer font if language is Khmer
                    if (selectedLanguage === 'khmer') {
                        questionElement.classList.add('khmer-text');
                    } else {
                        questionElement.classList.remove('khmer-text');
                    }
                }
            }
        }

        function flipCard(cardIndex) {
            if (!flippedCards[cardIndex]) {
                const card = document.querySelectorAll('.card')[cardIndex];
                if (card) {
                    card.classList.add('flipped');
                    flippedCards[cardIndex] = true;
                }
            }
        }

        function nextRound() {
            // Reset all cards
            const cards = document.querySelectorAll('.card');
            cards.forEach(card => {
                card.classList.remove('flipped');
            });
            
            // Reset flipped state
            flippedCards = [false, false, false, false];
            
            // Generate new questions
            generateNewQuestions();
            
            // Add bounce animation to next button
            const nextButton = document.getElementById('nextButton');
            if (nextButton) {
                nextButton.classList.add('bounce');
                setTimeout(() => {
                    nextButton.classList.remove('bounce');
                }, 2000);
            }
        }

        function resetGame() {
            const cards = document.querySelectorAll('.card');
            cards.forEach(card => {
                card.classList.remove('flipped');
            });
            flippedCards = [false, false, false, false];
            currentCategory = 'normal';
            currentLanguage = 'english';
        }

        // Khmer Translation System
        let isKhmerMode = false;

        function toggleLanguage() {
            isKhmerMode = !isKhmerMode;
            updateLanguageDisplay();
            translateInterface();
            
            // Regenerate questions with new language
            if (document.getElementById('gamePage') && !document.getElementById('gamePage').classList.contains('hidden')) {
                generateNewQuestions();
            }
        }

        function updateLanguageDisplay() {
            const languageText = document.getElementById('languageText');
            if (languageText) {
                languageText.textContent = isKhmerMode ? 'English' : 'ខ្មែរ';
            }
        }

        function translateInterface() {
            const translations = {
                // Main navigation and buttons
                'Solo Game': 'ហ្គេមតែម្នាក់',
                'Multiplayer': 'ហ្គេមច្រើននាក់',
                'Party Question Card Game': 'ហ្គេមកាតសំណួរប៉ាទី',
                'Get ready for deep questions that will "chok" you! Challenge yourself with thought-provoking cards that spark conversation and fun moments.': 'ត្រៀមខ្លួនសម្រាប់សំណួរជ្រៅដែលនឹង "ចុក" អ្នក! ប្រកួតជាមួយខ្លួនអ្នកជាមួយកាតដែលជំរុញឱ្យគិតដែលជំរុញការសន្ទនា និងពេលវេលាសប្បាយ។',
                'Choose Your Adventure': 'ជ្រើសរើសដំណើរផ្សងព្រេងរបស់អ្នក',
                
                // Language selection buttons
                '🇺🇸 English': '🇺🇸 English',
                '🇰🇭 ខ្មែរ': '🇰🇭 ខ្មែរ',
                'Select Language | ជ្រើសរើសភាសា': 'ជ្រើសរើសភាសា | Select Language',
                
                // Game categories
                'Normal Questions': 'សំណួរធម្មតា',
                'Couple Questions': 'សំណួរគូស្នេហ៍',
                'Mystery Questions': 'សំណួរអាថ៌កំបាំង',
                'Dare Questions': 'សំណួរហ៊ាន',
                
                // Game controls
                'Next Round': 'វគ្គបន្ទាប់',
                'Back to Home': 'ត្រលប់ទៅផ្ទះ',
                'Back to Categories': 'ត្រលប់ទៅប្រភេទ',
                'Truth': 'ការពិត',
                'Dare': 'ហ៊ាន',
                'Mystery': 'អាថ៌កំបាំង',
                'Couple': 'គូស្នេហ៍',
                'Start Game': 'ចាប់ផ្តើមហ្គេម',
                'Rules': 'ច្បាប់',
                'How to Play': 'របៀបលេង',
                'Game Rules': 'ច្បាប់ហ្គេម',
                
                // Multiplayer
                'Solo Mode': 'របៀបតែម្នាក់',
                'Multiplayer Mode': 'របៀបច្រើននាក់',
                'Create Room': 'បង្កើតបន្ទប់',
                'Join Room': 'ចូលបន្ទប់',
                'Enter Room Code': 'បញ្ចូលកូដបន្ទប់',
                'Enter Your Name': 'បញ្ចូលឈ្មោះរបស់អ្នក',
                'Room Code': 'កូដបន្ទប់',
                'Share Room': 'ចែករំលែកបន្ទប់',
                'Download QR': 'ទាញយក QR',
                'Scan QR Code': 'ស្កេន QR Code',
                'Join Game': 'ចូលហ្គេម',
                'With Code': 'ដោយកូដ',
                'Host Game': 'ចាប់ផ្តើមហ្គេម',
                'Players': 'អ្នកលេង',
                'Chat': 'ជជែក',
                'Voice': 'សម្លេង',
                'Mute': 'បិទសម្លេង',
                'Unmute': 'បើកសម្លេង',
                'Next Player': 'អ្នកលេងបន្ទាប់',
                'Close': 'បិទ',
                
                // Question management
                'Manage Questions': 'គ្រប់គ្រងសំណួរ',
                'Question Settings': 'ការកំណត់សំណួរ',
                'Truth Questions': 'សំណួរការពិត',
                'Dare Questions': 'សំណួរហ៊ាន',
                'Total Questions': 'សំណួរសរុប',
                'Add New Truth Question': 'បន្ថែមសំណួរការពិតថ្មី',
                'Add New Dare Question': 'បន្ថែមសំណួរហ៊ានថ្មី',
                'Current Truth Questions': 'សំណួរការពិតបច្ចុប្បន្ន',
                'Current Dare Questions': 'សំណួរហ៊ានបច្ចុប្បន្ន',
                'Clear All': 'លុបទាំងអស់',
                'Import': 'នាំចូល',
                'Export Questions': 'នាំចេញសំណួរ',
                'Reset to Default': 'កំណត់ឡើងវិញ',
                'Done': 'រួចរាល់',
                'Edit question': 'កែសំណួរ',
                'Remove question': 'លុបសំណួរ',
                'No truth questions yet': 'មិនទាន់មានសំណួរការពិត',
                'No dare questions yet': 'មិនទាន់មានសំណួរហ៊ាន',
                'Add your first truth question above to get started!': 'បន្ថែមសំណួរការពិតដំបូងរបស់អ្នកខាងលើដើម្បីចាប់ផ្តើម!',
                'Add your first dare question above to get started!': 'បន្ថែមសំណួរហ៊ានដំបូងរបស់អ្នកខាងលើដើម្បីចាប់ផ្តើម!',
                
                // Additional interface elements
                'Current Language': 'ភាសាបច្ចុប្បន្ន',
                'Current Category': 'ប្រភេទបច្ចុប្បន្ន',
                'Score': 'ពិន្ទុ',
                'Time': 'ពេលវេលា',
                'Settings': 'ការកំណត់',
                'Help': 'ជំនួយ',
                'About': 'អំពី',
                'Contact': 'ទំនាក់ទំនង',
                'Privacy': 'ភាពឯកជន',
                'Terms': 'លក្ខខណ្ឌ',
                'Version': 'កំណែ',
                'Loading': 'កំពុងផ្ទុក',
                'Error': 'កំហុស',
                'Success': 'ជោគជ័យ',
                'Warning': 'ការព្រមាន',
                'Info': 'ព័ត៌មាន',
                'Yes': 'បាទ',
                'No': 'ទេ',
                'OK': 'យល់ព្រម',
                'Cancel': 'បោះបង់',
                'Save': 'រក្សាទុក',
                'Delete': 'លុប',
                'Edit': 'កែសម្រួល',
                'Add': 'បន្ថែម',
                'Remove': 'ដកចេញ',
                'Search': 'ស្វែងរក',
                'Filter': 'តម្រង',
                'Sort': 'តម្រៀប',
                'Refresh': 'ផ្ទុកឡើងវិញ',
                'Back': 'ត្រលប់',
                'Next': 'បន្ទាប់',
                'Previous': 'មុន',
                'First': 'ដំបូង',
                'Last': 'ចុងក្រោយ',
                'Page': 'ទំព័រ',
                'of': 'នៃ',
                'Total': 'សរុប',
                'Items': 'ធាតុ',
                'Results': 'លទ្ធផល',
                'No results found': 'រកមិនឃើញលទ្ធផល',
                'Try again': 'ព្យាយាមម្តងទៀត',
                'Connection lost': 'បាត់ការតភ្ជាប់',
                'Reconnecting': 'កំពុងតភ្ជាប់ឡើងវិញ',
                'Connected': 'បានតភ្ជាប់',
                'Disconnected': 'បានផ្តាច់',
                'Online': 'អនឡាញ',
                'Offline': 'អន្តឡាញ',
                'Available': 'មាន',
                'Unavailable': 'មិនមាន',
                'Busy': 'រវល់',
                'Idle': 'អសកម្ម',
                'Active': 'សកម្ម',
                'Inactive': 'មិនសកម្ម',
                'Enabled': 'បានបើក',
                'Disabled': 'បានបិទ',
                'On': 'បើក',
                'Off': 'បិទ',
                'True': 'ពិត',
                'False': 'មិនពិត',
                'Null': 'ទទេ',
                'Undefined': 'មិនបានកំណត់',
                'Empty': 'ទទេ',
                'Full': 'ពេញ',
                'Partial': 'មួយផ្នែក',
                'Complete': 'ពេញលេញ',
                'Incomplete': 'មិនពេញលេញ',
                'Valid': 'ត្រឹមត្រូវ',
                'Invalid': 'មិនត្រឹមត្រូវ',
                'Required': 'ចាំបាច់',
                'Optional': 'ជម្រើស',
                'Recommended': 'បានណែនាំ',
                'Not recommended': 'មិនបានណែនាំ',
                'Free': 'ឥតគិតថ្លៃ',
                'Paid': 'គិតថ្លៃ',
                'Premium': 'បុព្វលាភ',
                'Basic': 'មូលដ្ឋាន',
                'Advanced': 'កម្រិតខ្ពស់',
                'Expert': 'ជំនាញ',
                'Beginner': 'ចាប់ផ្តើម',
                'Intermediate': 'កម្រិតកណ្តាល',
                'Professional': 'ជំនាញ',
                'Amateur': 'អ្នកចាប់ផ្តើម',
                'New': 'ថ្មី',
                'Old': 'ចាស់',
                'Updated': 'បានធ្វើបច្ចុប្បន្នភាព',
                'Outdated': 'ចាស់',
                'Latest': 'ចុងក្រោយ',
                'Earliest': 'ដំបូង',
                'Recent': 'ថ្មីៗ',
                'Ancient': 'បុរាណ',
                'Modern': 'ទំនើប',
                'Classic': 'បុរាណ',
                'Traditional': 'ប្រពៃណី',
                'Contemporary': 'សម័យទំនើប',
                'Futuristic': 'អនាគត',
                'Retro': 'បុរាណ',
                'Vintage': 'បុរាណ',
                'Antique': 'បុរាណ',
                'Rare': 'កម្រិត',
                'Common': 'ធម្មតា',
                'Popular': 'ពេញនិយម',
                'Unpopular': 'មិនពេញនិយម',
                'Trending': 'កំពុងពេញនិយម',
                'Famous': 'ល្បី',
                'Unknown': 'មិនស្គាល់',
                'Hidden': 'លាក់',
                'Visible': 'អាចមើលឃើញ',
                'Public': 'សាធារណៈ',
                'Private': 'ឯកជន',
                'Secret': 'សម្ងាត់',
                'Open': 'បើក',
                'Closed': 'បិទ',
                'Locked': 'ចាក់សោ',
                'Unlocked': 'មិនចាក់សោ',
                'Secure': 'សុវត្ថិភាព',
                'Insecure': 'មិនសុវត្ថិភាព',
                'Safe': 'សុវត្ថិភាព',
                'Dangerous': 'គ្រោះថ្នាក់',
                'Risky': 'ហានិភ័យ',
                'Safe': 'សុវត្ថិភាព',
                'Warning': 'ការព្រមាន',
                'Caution': 'ប្រយ័ត្ន',
                'Attention': 'យកចិត្តទុកដាក់',
                'Important': 'សំខាន់',
                'Critical': 'សំខាន់',
                'Urgent': 'បន្ទាន់',
                'Emergency': 'គ្រោះថ្នាក់',
                'Normal': 'ធម្មតា',
                'Abnormal': 'មិនធម្មតា',
                'Regular': 'ធម្មតា',
                'Irregular': 'មិនធម្មតា',
                'Standard': 'ស្តង់ដារ',
                'Non-standard': 'មិនស្តង់ដារ',
                'Custom': 'ផ្ទាល់ខ្លួន',
                'Default': 'លំនាំដើម',
                'Automatic': 'ស្វ័យប្រវត្តិ',
                'Manual': 'ដោយដៃ',
                'Automatic': 'ស្វ័យប្រវត្តិ',
                'Semi-automatic': 'ពាក់កណ្តាលស្វ័យប្រវត្តិ',
                'Fully automatic': 'ស្វ័យប្រវត្តិទាំងស្រុង',
                'Semi-manual': 'ពាក់កណ្តាលដោយដៃ',
                'Fully manual': 'ដោយដៃទាំងស្រុង'
            };

            if (isKhmerMode) {
                // Translate to Khmer
                Object.keys(translations).forEach(english => {
                    const elements = document.querySelectorAll(`*:not(script):not(style)`);
                    elements.forEach(element => {
                        if (element.children.length === 0 && element.textContent.trim() === english) {
                            element.textContent = translations[english];
                        }
                    });
                });
            } else {
                // Translate back to English
                Object.entries(translations).forEach(([english, khmer]) => {
                    const elements = document.querySelectorAll(`*:not(script):not(style)`);
                    elements.forEach(element => {
                        if (element.children.length === 0 && element.textContent.trim() === khmer) {
                            element.textContent = english;
                        }
                    });
                });
            }
            
            // Also translate button text and other dynamic content
            translateDynamicContent();
        }

        function translateDynamicContent() {
            const translations = {
                '🇺🇸 English': '🇺🇸 English',
                '🇰🇭 ខ្មែរ': '🇰🇭 ខ្មែរ',
                'Select Language | ជ្រើសរើសភាសា': isKhmerMode ? 'ជ្រើសរើសភាសា | Select Language' : 'Select Language | ជ្រើសរើសភាសា'
            };

            // Translate language selection buttons
            const languageButtons = document.querySelectorAll('button[onclick*="setLanguage"]');
            languageButtons.forEach(button => {
                const text = button.textContent.trim();
                if (translations[text]) {
                    button.textContent = translations[text];
                }
            });

            // Translate language selection title
            const languageTitle = document.querySelector('h3');
            if (languageTitle && languageTitle.textContent.includes('Select Language')) {
                languageTitle.textContent = isKhmerMode ? 'ជ្រើសរើសភាសា | Select Language' : 'Select Language | ជ្រើសរើសភាសា';
            }
        }

        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            generateNewQuestions();
            
            
            // Handle hash navigation for rules page redirect
            if (window.location.hash === '#categoryPage') {
                showCategorySelection();
            }
        });
    </script>
</body>
</html>